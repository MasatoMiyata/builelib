{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "WebプログラムVer3用JsonSchema",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "Building": {
            "description": "様式BL",
            "$ref": "#/definitions/Building"
        },
        "Rooms": {
            "description": "様式RM"
        },
        "VentilationRoom":{
            "description": "様式V1",
            "type": "object",
            "items": {
                "$ref": "#/definitions/VentilationRoom"
            }
        },
        "VentilationUnit":{
            "description": "様式V2",
            "type": "object",
            "items": {
                "$ref": "#/definitions/VentilationUnit"
            }
        },
        "LightingSystems": {
            "description": "様式L",
            "type": "object",
            "items": {
                "$ref": "#/definitions/LightingSystem"
            }
        }
    },
    "dependencies": {
        "VentilationRoom": ["Building","Rooms","VentilationUnit"],
        "LightingSystems": ["Building","Rooms"]
    },
    "required": [
        "Building", "Rooms"
    ],
    "definitions": {
        "Building": {
            "description": "様式BL",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Name": {
                    "description": "BL-1:建築物の名称",
                    "default":"-",
                    "type": "string",
                    "maxLength": 1000
                },
                "BuildingAddress": {
                    "description": "BL-2,3,4:建築物所在地",
                    "$ref": "#/definitions/BuildingAddress"
                },
                "Region": {
                    "description": "BL-5:地域の区分",
                    "type": "string",
                    "enum":[
                        "1",
                        "2",
                        "3",
                        "4",
                        "5",
                        "6",
                        "7",
                        "8"
                    ]
                },
                "AnnualSolarRegion": {
                    "description": "BL-6:年間日射地域区分",
                    "type": "string",
                    "enum":[
                        "A1",
                        "A2",
                        "A3",
                        "A4",
                        "A5"
                    ]
                },
                "BuildingFloorArea": {
                    "description": "BL-7:延べ面積 [m2]",
                    "type": "number",
                    "minimum": 0.01,
                    "maximum": 100000000
                },
                "Coefficient_DHC": {
                    "description": "BL-8,9:「他人から供給された熱」の一次エネルギー換算係数",
                    "$ref": "#/definitions/CoefficientDHC"
                }
            },
            "required": [
                "Region"
            ],
            "title": "Model"
        },
        "BuildingAddress": {
            "description": "BL-2,3,4:建築物所在地",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Prefecture": {
                    "description": "BL-2:都道府県",
                    "type": "string",
                    "maxLength": 100,
                    "default":"-"
                },
                "City": {
                    "description": "BL-3:市区町村",
                    "type": "string",
                    "maxLength": 100,
                    "default":"-"
                },
                "Address": {
                    "description": "BL-4:丁目、番地等",
                    "type": "string",
                    "maxLength": 1000,
                    "default":"-"
                }
            },
            "required": [
                "Address",
                "City",
                "Prefecture"
            ],
            "title": "BuildingAddress"
        },
        "CoefficientDHC": {
            "description": "BL-8,9:「他人から供給された熱」の一次エネルギー換算係数",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Cooling": {
                    "description": "BL-8:冷熱",
                    "default":1.36,
                    "type": [
                        "number",
                        "null"
                    ]
                },
                "Heating": {
                    "description": "BL-9:温熱",
                    "default":1.36,
                    "type": [
                        "number",
                        "null"
                    ]
                }
            },
            "required": [
                "Cooling",
                "Heating"
            ],
            "title": "CoefficientDHC"
        },
        "VentilationRoom":{
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "VentilationType": {
                    "description": "V1-3:換気方式",
                    "type": "string",
                    "enum":[
                        "一種換気",
                        "二種換気",
                        "三種換気"
                    ]
                },
                "VentilationUnitRef": {
                    "type": "array",
                    "items": {
                        "properties": {
                            "UnitType": {
                                "description": "V1-4:機器の種類",
                                "type": "string",
                                "enum":[
                                    "給気",
                                    "排気",
                                    "空調",
                                    "循環"
                                ]
                            },
                            "Name": {
                                "description": "V1-5:機器名称",
                                "type": "string"
                            },
                            "Info": {
                                "description": "V1-6:備考",
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "required": [
                "VentilationType",
                "VentilationUnitRef"
            ],
            "title": "VentilationRoom"
        },
        "VentilationUnit":{
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Number": {
                    "description": "V2-2:台数",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000
                },
                "FanAirVolume": {
                    "description": "V2-3:設計風量",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "MoterRatedPower": {
                    "description": "V2-4:定格電動機出力",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "PowerConsumption": {
                    "description": "V2-5:定格消費電力",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "HighEfficiencyMotor": {
                    "description": "V2-6:高効率電動機の有無",
                    "type": "string",
                    "enum":[
                        "無",
                        "有"
                    ],
                    "default":"無"
                },
                "Inverter": {
                    "description": "V2-7:インバータの有無",
                    "type": "string",
                    "enum":[
                        "無",
                        "有"
                    ],
                    "default":"無"
                },
                "AirVolumeControl": {
                    "description": "V2-8:送風量制御",
                    "type": "string",
                    "enum":[
                        "無",
                        "CO濃度制御",
                        "温度制御"
                    ],
                    "default":"無"
                },
                "VentilationRoomType": {
                    "description": "V2-9:対象室の用途",
                    "anyOf":[
                        {
                            "type": "string",
                            "enum":[
                                "電気室",
                                "機械室",
                                "エレベータ機械室",
                                "その他"
                            ],
                            "default":"その他"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "AC_CoolingCapacity": {
                    "description": "V2-10:必要冷却能力",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "AC_RefEfficiency": {
                    "description": "V2-11:熱源効率(一次換算値)",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "AC_PumpPower": {
                    "description": "V2-12:ポンプの定格消費電力",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "Info": {
                    "description": "V1-6:備考",
                    "type": "string"
                }
            },
            "required": [
                "Number",
                "FanAirVolume",
                "MoterRatedPower",
                "PowerConsumption",
                "HighEfficiencyMotor",
                "Inverter",
                "AirVolumeControl",
                "VentilationRoomType",
                "AC_CoolingCapacity",
                "AC_RefEfficiency",
                "AC_PumpPower",
                "Info"
            ],
            "title": "VentilationUnit"
        },
        "LightingSystem": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "roomWidth": {
                    "description": "L-3:室指数　室の間口 [m]",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1000000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "roomDepth": {
                    "description": "L-4:室指数　室の奥行 [m]",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1000000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "unitHeight": {
                    "description": "L-5:室指数　器具高さ [m]",
                    "anyOf":[
                        {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1000000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "roomIndex": {
                    "description": "L-6:室指数 [-]",
                    "anyOf":[
                        {
                            "type": "number",
                            "default": 2.5,
                            "minimum": 0,
                            "maximum": 1000000000
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "lightingUnit": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/LightingUnit"
                    }
                }
            },
            "required": [
                "lightingUnit"
            ],
            "title": "LightingSystem"
        },
        "LightingUnit": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "RatedPower": {
                    "description": "L-8:定格消費電力 [W/台]",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000000000
                },
                "Number": {
                    "description": "L-9:台数",
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000000000,
                    "default": 1
                },
                "OccupantSensingCTRL": {
                    "description": "L-10:在室検知制御",
                    "type": "string",
                    "enum":[
                        "無",
                        "下限調光方式",
                        "点滅方式",
                        "減光方式"
                    ],
                    "default":"無"
                },
                "IlluminanceSensingCTRL": {
                    "description": "L-11:明るさ検知制御",
                    "type": "string",
                    "enum":[
                        "無",
                        "調光方式",
                        "調光方式BL",
                        "調光方式W15",
                        "調光方式W15BL",
                        "調光方式W20",
                        "調光方式W20BL",
                        "調光方式W25",
                        "調光方式W25BL",
                        "点滅方式"
                    ],
                    "default":"無"
                },
                "TimeScheduleCTRL": {
                    "description": "L-12:タイムスケジュール制御",
                    "type": "string",
                    "enum":[
                        "無",
                        "減光",
                        "消灯"
                    ],
                    "default":"無"
                },
                "InitialIlluminationCorrectionCTRL": {
                    "description": "L-13:初期照度補正機能",
                    "type": "string",
                    "enum":[
                        "無",
                        "タイマ方式(LED)",
                        "タイマ方式(蛍光灯)",
                        "センサ方式(LED)",
                        "センサ方式(蛍光灯)"
                    ],
                    "default":"無"
                }
            },
            "required": [
                "Number",
                "RatedPower",
                "IlluminanceSensingCTRL",
                "InitialIlluminationCorrectionCTRL",
                "OccupantSensingCTRL",
                "TimeScheduleCTRL"
            ],
            "title": "LightingUnit"
        }
    }
}
